(function(){function n(){const n=document.getElementById("image-preview"),t=document.getElementById("image-upload");t&&n&&t.addEventListener("onchange",t=>{n.src=URL.createObjectURL(t.target.files[0])})}function t(){let n=document.getElementById("main");n.addEventListener("click",n=>{if(n.target.classList&&(n.target.classList.contains("upvote")||n.target.classList.contains("downvote"))){n.preventDefault();const t=n.target.parentElement,i=t.getElementsByClassName("rating")[0];$.ajax({url:n.target.href,success:n=>i.innerText=n})}})}n();t()})();